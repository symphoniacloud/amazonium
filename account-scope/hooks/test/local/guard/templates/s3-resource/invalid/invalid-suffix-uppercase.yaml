HookContext:
  AWSAccountID: "123456789012"
  StackId: "arn:aws:cloudformation:us-east-1:123456789012:stack/test-stack/1a2b3c4d-5e6f-7890-abcd-ef1234567890"
  HookTypeName: "AWS::S3::BucketGuard"
  HookTypeVersion: "1.0"
  InvocationPoint: "CREATE_PRE_PROVISION"
  TargetName: "AWS::S3::Bucket"
  TargetType: "RESOURCE"

Resources:
  InvalidBucket:
    Type: AWS::S3::Bucket
    Properties:
      BucketName: test-stack-123456789012-us-east-1-BUCKET
      BucketEncryption:
        ServerSideEncryptionConfiguration:
          - ServerSideEncryptionByDefault:
              SSEAlgorithm: aws:kms
              KMSMasterKeyID: alias/my-app-key
      OwnershipControls:
        Rules:
          - ObjectOwnership: BucketOwnerEnforced
      AccessControl: BucketOwnerFullControl
      PublicAccessBlockConfiguration:
        BlockPublicAcls: true
        BlockPublicPolicy: true
        IgnorePublicAcls: true
        RestrictPublicBuckets: true
      LifecycleConfiguration:
        Rules:
          - Id: ExpireIncompleteMultipart
            Status: Enabled
            Prefix: ""
            AbortIncompleteMultipartUpload:
              DaysAfterInitiation: 7
      Tags:
        - Key: ApplicationId
          Value: my-app
        - Key: dCatalogue
          Value: my-catalogue
        - Key: BusinessUnit
          Value: engineering
